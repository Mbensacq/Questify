// Configuration des achievements
import { Achievement, AchievementRarity } from '../types';

// Re-export for convenience
export type { AchievementRarity } from '../types';

export const ACHIEVEMENT_CATEGORIES = [
  { id: 'tasks', name: 'TÃ¢ches', icon: 'ğŸ“' },
  { id: 'streaks', name: 'SÃ©ries', icon: 'ğŸ”¥' },
  { id: 'quests', name: 'QuÃªtes', icon: 'ğŸ¯' },
  { id: 'level', name: 'Niveau', icon: 'â­' },
  { id: 'social', name: 'Social', icon: 'ğŸ‘¥' },
  { id: 'special', name: 'SpÃ©cial', icon: 'ğŸ†' },
];

export const ACHIEVEMENTS: Omit<Achievement, 'unlockedAt'>[] = [
  // ============ TASKS - Common ============
  {
    id: 'first_task',
    name: 'Premier Pas',
    description: 'ComplÃ©tez votre premiÃ¨re tÃ¢che',
    icon: 'ğŸ¯',
    rarity: 'common',
    category: 'tasks',
    xpReward: 10,
    coinReward: 5,
    requirement: { type: 'tasks_completed', value: 1 },
  },
  {
    id: 'task_10',
    name: 'DÃ©butant',
    description: 'ComplÃ©tez 10 tÃ¢ches',
    icon: 'ğŸ“',
    rarity: 'common',
    category: 'tasks',
    xpReward: 25,
    coinReward: 10,
    requirement: { type: 'tasks_completed', value: 10 },
  },
  {
    id: 'task_50',
    name: 'Travailleur',
    description: 'ComplÃ©tez 50 tÃ¢ches',
    icon: 'ğŸ’¼',
    rarity: 'rare',
    category: 'tasks',
    xpReward: 100,
    coinReward: 50,
    requirement: { type: 'tasks_completed', value: 50 },
  },
  {
    id: 'task_100',
    name: 'Productif',
    description: 'ComplÃ©tez 100 tÃ¢ches',
    icon: 'ğŸ†',
    rarity: 'rare',
    category: 'tasks',
    xpReward: 200,
    coinReward: 100,
    requirement: { type: 'tasks_completed', value: 100 },
  },
  {
    id: 'task_500',
    name: 'Machine de Guerre',
    description: 'ComplÃ©tez 500 tÃ¢ches',
    icon: 'âš”ï¸',
    rarity: 'epic',
    category: 'tasks',
    xpReward: 500,
    coinReward: 250,
    requirement: { type: 'tasks_completed', value: 500 },
  },
  {
    id: 'task_1000',
    name: 'LÃ©gende Vivante',
    description: 'ComplÃ©tez 1000 tÃ¢ches',
    icon: 'ğŸ‘‘',
    rarity: 'legendary',
    category: 'tasks',
    xpReward: 1000,
    coinReward: 500,
    requirement: { type: 'tasks_completed', value: 1000 },
  },

  // ============ STREAKS ============
  {
    id: 'streak_3',
    name: 'RÃ©gularitÃ©',
    description: 'Maintenez un streak de 3 jours',
    icon: 'ğŸ”¥',
    rarity: 'common',
    category: 'streaks',
    xpReward: 30,
    coinReward: 15,
    requirement: { type: 'streak', value: 3 },
  },
  {
    id: 'streak_7',
    name: 'Semaine Parfaite',
    description: 'Maintenez un streak de 7 jours',
    icon: 'ğŸ“…',
    rarity: 'common',
    category: 'streaks',
    xpReward: 75,
    coinReward: 35,
    requirement: { type: 'streak', value: 7 },
  },
  {
    id: 'streak_14',
    name: 'PersÃ©vÃ©rant',
    description: 'Maintenez un streak de 14 jours',
    icon: 'ğŸ’ª',
    rarity: 'rare',
    category: 'streaks',
    xpReward: 150,
    coinReward: 75,
    requirement: { type: 'streak', value: 14 },
  },
  {
    id: 'streak_30',
    name: 'Mois LÃ©gendaire',
    description: 'Maintenez un streak de 30 jours',
    icon: 'ğŸŒŸ',
    rarity: 'epic',
    category: 'streaks',
    xpReward: 300,
    coinReward: 150,
    requirement: { type: 'streak', value: 30 },
  },
  {
    id: 'streak_100',
    name: 'Centurion',
    description: 'Maintenez un streak de 100 jours',
    icon: 'ğŸ›ï¸',
    rarity: 'legendary',
    category: 'streaks',
    xpReward: 1000,
    coinReward: 500,
    requirement: { type: 'streak', value: 100 },
  },
  {
    id: 'streak_365',
    name: 'AnnÃ©e Incroyable',
    description: 'Maintenez un streak de 365 jours',
    icon: 'ğŸ†',
    rarity: 'legendary',
    category: 'streaks',
    xpReward: 5000,
    coinReward: 2500,
    requirement: { type: 'streak', value: 365 },
    secret: true,
  },

  // ============ LEVELS ============
  {
    id: 'level_5',
    name: 'Apprenti',
    description: 'Atteignez le niveau 5',
    icon: 'ğŸ“ˆ',
    rarity: 'common',
    category: 'xp',
    xpReward: 50,
    coinReward: 25,
    requirement: { type: 'level', value: 5 },
  },
  {
    id: 'level_10',
    name: 'Aventurier',
    description: 'Atteignez le niveau 10',
    icon: 'ğŸ—ºï¸',
    rarity: 'common',
    category: 'xp',
    xpReward: 100,
    coinReward: 50,
    requirement: { type: 'level', value: 10 },
  },
  {
    id: 'level_25',
    name: 'HÃ©ros',
    description: 'Atteignez le niveau 25',
    icon: 'ğŸ¦¸',
    rarity: 'rare',
    category: 'xp',
    xpReward: 250,
    coinReward: 125,
    requirement: { type: 'level', value: 25 },
  },
  {
    id: 'level_50',
    name: 'Champion',
    description: 'Atteignez le niveau 50',
    icon: 'ğŸ…',
    rarity: 'epic',
    category: 'xp',
    xpReward: 500,
    coinReward: 250,
    requirement: { type: 'level', value: 50 },
  },
  {
    id: 'level_100',
    name: 'MaÃ®tre LÃ©gendaire',
    description: 'Atteignez le niveau 100',
    icon: 'ğŸ‘‘',
    rarity: 'legendary',
    category: 'xp',
    xpReward: 2000,
    coinReward: 1000,
    requirement: { type: 'level', value: 100 },
  },

  // ============ XP MILESTONES ============
  {
    id: 'xp_1000',
    name: 'Collectionneur d\'XP',
    description: 'Gagnez 1000 XP au total',
    icon: 'âœ¨',
    rarity: 'common',
    category: 'xp',
    xpReward: 50,
    coinReward: 25,
    requirement: { type: 'total_xp', value: 1000 },
  },
  {
    id: 'xp_10000',
    name: 'Chasseur d\'XP',
    description: 'Gagnez 10000 XP au total',
    icon: 'ğŸ’«',
    rarity: 'rare',
    category: 'xp',
    xpReward: 200,
    coinReward: 100,
    requirement: { type: 'total_xp', value: 10000 },
  },
  {
    id: 'xp_100000',
    name: 'MaÃ®tre de l\'XP',
    description: 'Gagnez 100000 XP au total',
    icon: 'ğŸŒŒ',
    rarity: 'legendary',
    category: 'xp',
    xpReward: 1000,
    coinReward: 500,
    requirement: { type: 'total_xp', value: 100000 },
  },

  // ============ SPECIAL TASKS ============
  {
    id: 'first_epic',
    name: 'Premier DÃ©fi Ã‰pique',
    description: 'ComplÃ©tez une tÃ¢che Ã©pique',
    icon: 'ğŸ’œ',
    rarity: 'rare',
    category: 'tasks',
    xpReward: 100,
    coinReward: 50,
    requirement: { type: 'epic_tasks', value: 1 },
  },
  {
    id: 'first_legendary',
    name: 'LÃ©gende',
    description: 'ComplÃ©tez une tÃ¢che lÃ©gendaire',
    icon: 'ğŸŒŸ',
    rarity: 'epic',
    category: 'tasks',
    xpReward: 250,
    coinReward: 125,
    requirement: { type: 'legendary_tasks', value: 1 },
  },
  {
    id: 'legendary_10',
    name: 'Chasseur de LÃ©gendes',
    description: 'ComplÃ©tez 10 tÃ¢ches lÃ©gendaires',
    icon: 'â­',
    rarity: 'legendary',
    category: 'tasks',
    xpReward: 1000,
    coinReward: 500,
    requirement: { type: 'legendary_tasks', value: 10 },
  },

  // ============ TIME MANAGEMENT ============
  {
    id: 'early_bird',
    name: 'LÃ¨ve-tÃ´t',
    description: 'ComplÃ©tez une tÃ¢che avant 7h du matin',
    icon: 'ğŸŒ…',
    rarity: 'common',
    category: 'time',
    xpReward: 25,
    coinReward: 10,
    requirement: { type: 'early_completion', value: 1 },
  },
  {
    id: 'night_owl',
    name: 'Oiseau de Nuit',
    description: 'ComplÃ©tez une tÃ¢che aprÃ¨s minuit',
    icon: 'ğŸ¦‰',
    rarity: 'common',
    category: 'time',
    xpReward: 25,
    coinReward: 10,
    requirement: { type: 'late_completion', value: 1 },
  },
  {
    id: 'speed_demon',
    name: 'Ã‰clair',
    description: 'ComplÃ©tez 5 tÃ¢ches en moins d\'une heure',
    icon: 'âš¡',
    rarity: 'rare',
    category: 'time',
    xpReward: 150,
    coinReward: 75,
    requirement: { type: 'fast_completion', value: 5 },
  },
  {
    id: 'perfect_day',
    name: 'JournÃ©e Parfaite',
    description: 'ComplÃ©tez toutes vos tÃ¢ches du jour',
    icon: 'â˜€ï¸',
    rarity: 'rare',
    category: 'time',
    xpReward: 100,
    coinReward: 50,
    requirement: { type: 'perfect_day', value: 1 },
  },
  {
    id: 'perfect_week',
    name: 'Semaine Parfaite',
    description: 'ComplÃ©tez toutes vos tÃ¢ches de la semaine',
    icon: 'ğŸŒˆ',
    rarity: 'epic',
    category: 'time',
    xpReward: 500,
    coinReward: 250,
    requirement: { type: 'perfect_week', value: 1 },
  },

  // ============ CATEGORIES ============
  {
    id: 'category_master',
    name: 'SpÃ©cialiste',
    description: 'ComplÃ©tez 50 tÃ¢ches dans une mÃªme catÃ©gorie',
    icon: 'ğŸ“',
    rarity: 'rare',
    category: 'categories',
    xpReward: 150,
    coinReward: 75,
    requirement: { type: 'category_tasks', value: 50 },
  },
  {
    id: 'well_rounded',
    name: 'Polyvalent',
    description: 'ComplÃ©tez des tÃ¢ches dans toutes les catÃ©gories',
    icon: 'ğŸŒ',
    rarity: 'rare',
    category: 'categories',
    xpReward: 200,
    coinReward: 100,
    requirement: { type: 'all_categories', value: 1 },
  },

  // ============ SPECIAL / SECRET ============
  {
    id: 'comeback',
    name: 'Le Retour',
    description: 'Reconnectez-vous aprÃ¨s 7 jours d\'absence',
    icon: 'ğŸ”„',
    rarity: 'common',
    category: 'special',
    xpReward: 50,
    coinReward: 25,
    requirement: { type: 'comeback', value: 7 },
    secret: true,
  },
  {
    id: 'perfectionist',
    name: 'Perfectionniste',
    description: 'ComplÃ©tez 10 tÃ¢ches avec toutes les sous-tÃ¢ches',
    icon: 'âœ…',
    rarity: 'rare',
    category: 'special',
    xpReward: 150,
    coinReward: 75,
    requirement: { type: 'perfect_tasks', value: 10 },
  },
  {
    id: 'overachiever',
    name: 'Surpassement',
    description: 'Gagnez 500 XP en une seule journÃ©e',
    icon: 'ğŸš€',
    rarity: 'epic',
    category: 'special',
    xpReward: 250,
    coinReward: 125,
    requirement: { type: 'daily_xp', value: 500 },
  },
  {
    id: 'founder',
    name: 'Fondateur',
    description: 'CrÃ©ez votre compte',
    icon: 'ğŸ´',
    rarity: 'common',
    category: 'special',
    xpReward: 50,
    coinReward: 25,
    requirement: { type: 'account_created', value: 1 },
  },

  // ============ COLLECTION ============
  {
    id: 'collector_10',
    name: 'Petit Collectionneur',
    description: 'DÃ©bloquez 10 achievements',
    icon: 'ğŸ“¦',
    rarity: 'common',
    category: 'collection',
    xpReward: 100,
    coinReward: 50,
    requirement: { type: 'achievements', value: 10 },
  },
  {
    id: 'collector_25',
    name: 'Grand Collectionneur',
    description: 'DÃ©bloquez 25 achievements',
    icon: 'ğŸ—ƒï¸',
    rarity: 'rare',
    category: 'collection',
    xpReward: 300,
    coinReward: 150,
    requirement: { type: 'achievements', value: 25 },
  },
  {
    id: 'collector_all',
    name: 'Collectionneur Ultime',
    description: 'DÃ©bloquez tous les achievements',
    icon: 'ğŸ†',
    rarity: 'legendary',
    category: 'collection',
    xpReward: 2000,
    coinReward: 1000,
    requirement: { type: 'achievements', value: 999 },
    secret: true,
  },

  // ============ QUESTS ============
  {
    id: 'quest_first',
    name: 'QuÃªteur',
    description: 'ComplÃ©tez votre premiÃ¨re quÃªte',
    icon: 'ğŸ“œ',
    rarity: 'common',
    category: 'special',
    xpReward: 50,
    coinReward: 25,
    requirement: { type: 'quests_completed', value: 1 },
  },
  {
    id: 'quest_10',
    name: 'Aventurier ConfirmÃ©',
    description: 'ComplÃ©tez 10 quÃªtes',
    icon: 'ğŸ—¡ï¸',
    rarity: 'rare',
    category: 'special',
    xpReward: 200,
    coinReward: 100,
    requirement: { type: 'quests_completed', value: 10 },
  },
  {
    id: 'daily_warrior',
    name: 'Guerrier Quotidien',
    description: 'ComplÃ©tez 30 quÃªtes journaliÃ¨res',
    icon: 'âš”ï¸',
    rarity: 'epic',
    category: 'special',
    xpReward: 500,
    coinReward: 250,
    requirement: { type: 'daily_quests', value: 30 },
  },
];

export const RARITY_COLORS: Record<AchievementRarity, string> = {
  common: '#9ca3af',
  rare: '#3b82f6',
  epic: '#8b5cf6',
  legendary: '#f59e0b',
};

export const RARITY_LABELS: Record<AchievementRarity, string> = {
  common: 'Commun',
  rare: 'Rare',
  epic: 'Ã‰pique',
  legendary: 'LÃ©gendaire',
};

export const getAchievementById = (id: string): Omit<Achievement, 'unlockedAt'> | undefined => {
  return ACHIEVEMENTS.find(a => a.id === id);
};

export const getAchievementsByCategory = (category: string): Omit<Achievement, 'unlockedAt'>[] => {
  return ACHIEVEMENTS.filter(a => a.category === category);
};

export const getVisibleAchievements = (): Omit<Achievement, 'unlockedAt'>[] => {
  return ACHIEVEMENTS.filter(a => !a.secret);
};
